<app-selected-list></app-selected-list>
<div [hidden]="!clipSrc" style='width:100%;height:85vh;position: relative;'>
  <!-- <div *ngIf="clipSrc" style='width:100%;height:500px;position: relative;'> -->
  <div style='position:absolute; height: 100%;width: 100%; '>
    <div *ngIf='clipSrc && !isYTReady' class='image-container' style='width:100%;height:100%;background-color: black; position: absolute;'
      [ngStyle]="{'background-image': 'url(https://image.tmdb.org/t/p/original'+selectedMovie.backdrop_path+')'}"></div>

    <!-- <div [hidden]='isYTReady' style='width:100%;height:100%;background-color: black; position: absolute;background-image: url(./assets/test-assets/wall-e_backdrop.jpg);
    background-size: cover;
    background-position: center;'></div> -->
    <div
      style='position:absolute; height: 100%;width: 50%;top: 50%;transform: translateY(-100px);padding-left: 5vw;text-shadow: 3px 3px 5px #333333;'>
      <h3>{{selectedMovie.title}} ({{getYear(selectedMovie.release_date)}})</h3>
      <button>Play Trailer</button>
      <span class='text-hyperlink' (click)='goToGenre(item)'
        *ngFor="let item of selectedMovie.genre_ids; let isLast = last">
        {{ getGenre(item) }}{{ isLast ? "" : ", " }}
      </span>
      <p>{{ selectedMovie.overview }}</p>
      <button class='btn btn-outline-info' (click)='toggleBookmark(selectedMovie.id)'>
        <p *ngIf="!selectedMovieBookmarkStatus">Bookmark</p>
        <p *ngIf="selectedMovieBookmarkStatus">UnBookmark</p>
      </button>
      <!-- <button *ngIf="selectedMovieBookmarkStatus" class='btn btn-outline-info' (click)='toggleBookmark(selectedMovie.id)'>
        Bookmark</button> -->
      <button class='btn btn-outline-info'>Watched</button>
      <button class='btn btn-outline-secondary' (click)="goToMovie(selectedMovie.id)">More Info</button>
    </div>
  </div>
  <div [hidden]='!isYTReady' id="player" #player></div>
</div>

<div class="container-fluid" style='padding-top: 10vh'>
  <div *ngIf="dashboardLists">
    <div *ngFor="let list of dashboardLists">
      <h3>{{list.name}}</h3>
      <div class='container-fluid' id='list' style='overflow-y:hidden;overflow-x:scroll;'>
        <div class='d-inline-flex'>
          <div *ngFor="let movie of list" [ngStyle]="{width: cardWidth}">

            <div class='flex-fill movie-card' [ngClass]="{'movie-card-selected': movie.isHighlighted}"
              style="margin:3px; cursor: pointer">

              <app-movie-card [movie]='movie' [cardWidth]='"130px"' (previewMovieId)='onSelect($event)'>
              </app-movie-card>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf='!browserConnection'>
    <h1>You are offline</h1>
  </div>
</div>
