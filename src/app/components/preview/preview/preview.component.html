<div [hidden]='isHide' style='width:100%;height:100%;position: fixed;
z-index: 3000;
    background-color: rgba(4,4,4,0.8);cursor:pointer' (click)='onHidePlayer()'>
  <div id='closeIcon' (click)="onHidePlayer()" data-toggle='tooltip' title='Close Preview' style='
background-image: url("./assets/icons/close.svg");position: absolute;
    filter: invert(1) contrast(0);
    color: #ccc;
    background-position: center;
    background-size: cover;
    cursor: pointer;
    height: 20px;
    width: 20px;
    right: 8vw;
    margin: auto;
    transform: translateY(50%);z-indez=5000
    '></div>
  <!-- <div [hidden]="clipSrc!=null" style='width:100%;height:75vh;position: relative;'> -->
  <!-- <div *ngIf="clipSrc" style='width:100%;height:500px;position: relative;'> -->
  <div (click)='$event.stopPropagation()' style='cursor:default'>
    <div id='previewOverlay'
      style='position:absolute;height:75vh; margin-left: 100px;width: calc(75vh*2.333333);transform: translate(0%, 10%);z-index: 5000;'>
      <div *ngIf='hasInitialSelected'>
        <div *ngIf='clipSrc==null || !isYTReady' class='image-container' style='width:100%;height:100%;background-color: black; position: absolute; background-size: cover;
        background-position: center;'
          [ngStyle]="{'background-image': 'url(https://image.tmdb.org/t/p/original'+previewMovie.backdrop_path+')'}">
        </div>
        <!-- <div [hidden]='isYTReady' style='width:100%;height:100%;background-color: black; position: absolute;background-image: url(./assets/test-assets/wall-e_backdrop.jpg);
        background-size: cover;
        background-position: center;'></div> -->
        <div id='previewOverlayContext' [ngClass]="{'overlayInvisible':isYTReady==true}"
          style='position:absolute; height: 100%;width: 50%;top: 50%;transform: translateY(-100px);padding-left: 5vw;text-shadow: 3px 3px 5px #333333;'>
          <!-- <h3>{{previewMovie.title}}
        ({{getYear(previewMovie.release_date)}})</h3> -->
          <div class='d-inline-flex'>
            <h3>{{previewMovie.title}}</h3>&nbsp;
            <h3 class='text-hyperlink' (click)='goToDiscover("year",getYear(previewMovie.release_date))'>
              ({{getYear(previewMovie.release_date)}})
            </h3>
          </div>
          <br>
          <span class='text-hyperlink' (click)='goToDiscover("genre",item)'
            *ngFor="let item of previewMovie.genre_ids; let isLast = last">
            {{ getGenre(item) }}{{ isLast ? "" : ", " }}
          </span>
          <button class='btn btn-primary' (click)='playTrailer()' *ngIf="!isYTPlaying && hasTrailerClip">Play
            Trailer</button>
          <button class=' btn btn-primary' (click)='stopVideo()' *ngIf="isYTPlaying">Stop Playing</button>
          <button class=' btn btn-primary' (click)='toggleMute()' *ngIf="isYTPlaying">
            <span *ngIf="!isMute">Mute</span>
            <span *ngIf="isMute">UnMute</span>
          </button>
          <button class=' btn btn-primary' (click)='playMovie()' *ngIf="previewMovie.video">
            <span>Play</span>
          </button>
          <p>{{ previewMovie.overview }}</p>
          <button class='btn btn-outline-info' (click)='toggleBookmark()'>
            <span *ngIf="!(previewMovie.bookmark && previewMovie.bookmark.id)">Bookmark</span>
            <span *ngIf="previewMovie.bookmark && previewMovie.bookmark.id">UnBookmark</span>
          </button>

          <button class='btn btn-outline-info' (click)='toggleWatched()'>
            <span *ngIf="!(previewMovie.watched && previewMovie.watched.id)">Mark as Watched</span>
            <span *ngIf="previewMovie.watched && previewMovie.watched.id">
              Remove Watched</span>
          </button>
          <button class='btn btn-outline-secondary' (click)="goToMovie(previewMovie.id)">More Info</button>
        </div>
      </div>
    </div>
    <div style='height:75vh;width: calc(75vh*2.333333);transform: translate(8.9%, 10%);
    position: absolute;' [hidden]='!isYTReady' id="player" #player></div>
  </div>
</div>
